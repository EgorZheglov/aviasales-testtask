{"version":3,"sources":["images/Logo.svg","components/Header.js","components/Ticket.js","components/Sidebar.js","services/api.js","components/Main.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Ticket","props","data","console","log","dateOrigin","Date","segments","date","originArrivalHours","getHours","Math","floor","duration","originArrivalMinutes","getMinutes","dateDestination","destinationArrivalHours","destinationArrivalMinutes","price","carrier","origin","destination","stops","length","reduce","prevVal","el","Sidebar","React","useState","isChecked","setChecked","type","id","onInput","evt","for","api","url","this","_url","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","searhcID","Main","ticketsArray","setTicketsArray","sortBySpeed","setSortBySpeed","sortByPrice","setSortByPrice","isLoading","setIsloading","ticketsCount","setTicketsCount","speedSort","a","b","priceSort","useEffect","getSearchId","getInitialTickets","searchId","tickets","sort","onClick","slice","map","ticket","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5ef32ee.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.309a1b5d.svg\";","import logo from '../images/Logo.svg'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nfunction Header () {\r\n\r\n  return (\r\n    <div className='header'>\r\n      <img className='header__logo' src={logo} alt='лого'/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import logo from '../images/s7.png'\r\n\r\nfunction Ticket(props){\r\n\r\n    const data = props.data;\r\n     \r\n\r\n    console.log(data)\r\n\r\n    const dateOrigin = new Date(data.segments[0].date)\r\n\r\n    const originArrivalHours = (dateOrigin.getHours() + Math.floor(data.segments[0].duration/60)) % 24;\r\n    const originArrivalMinutes = (dateOrigin.getMinutes() + (data.segments[0].duration % 60)) % 60;\r\n    \r\n\r\n    const dateDestination = new Date(data.segments[0].date);\r\n\r\n    const destinationArrivalHours = (dateDestination.getHours() + Math.floor(data.segments[1].duration/60)) % 24;\r\n    const destinationArrivalMinutes = (dateDestination.getMinutes() + (data.segments[1].duration % 60)) % 60;\r\n\r\n\r\n    return (\r\n        <div className='main__ticket'>\r\n            <div className='main__header'>\r\n                <h2 className='main__price'>{data.price}р</h2>\r\n                <img className='main__logo' src={`https://pics.avs.io/99/36/${data.carrier}.png`} alt='Лого'/>\r\n            </div>\r\n            <div className='main__info'>\r\n                <div className='main__info-item'>\r\n                    <h3 className='main__info-header'>{data.segments[0].origin} – {data.segments[0].destination}</h3>\r\n                    <div className='main__info-value'>{dateOrigin.getHours() < 10 ? `0${dateOrigin.getHours()}`:`${dateOrigin.getHours()}`}:{dateOrigin.getMinutes() < 10 ? `0${dateOrigin.getMinutes()}`:`${dateOrigin.getMinutes()}`} – {originArrivalHours < 10 ? `0${originArrivalHours}`:`${originArrivalHours}`}:{originArrivalMinutes < 10 ? `0${originArrivalMinutes}`:`${originArrivalMinutes}`}</div>\r\n                </div>\r\n                <div className='main__info-item'>\r\n                    <h3 className='main__info-header'>В пути</h3>\r\n                    <div className='main__info-value'>{Math.floor(data.segments[0].duration/60)}ч {data.segments[0].duration % 60}м</div>\r\n                    {/*В документации к api не указано, в каком формате приходит время*/}\r\n                </div>\r\n                <div className='main__info-item'>\r\n                    {data.segments[0].stops.length !== 0 ? (<>\r\n                    <h3 className='main__info-header'>{data.segments[0].stops.length === 1 ? '1 пересадка' : `${data.segments[0].stops.length} пересадки`}</h3>\r\n                    <div className='main__info-value'>{data.segments[0].stops.reduce((prevVal, el) => prevVal + ', ' + el)}</div> </>):(<h3 className='main__info-header'>0 пересадок</h3>)}\r\n                </div>\r\n                <div className='main__info-item'>\r\n                    <h3 className='main__info-header'>{data.segments[1].origin} – {data.segments[1].destination}</h3>\r\n                    <div className='main__info-value'>{dateDestination.getHours() < 10 ? `0${dateDestination.getHours()}`:`${dateDestination.getHours()}`}:{dateDestination.getMinutes() < 10 ? `0${dateDestination.getMinutes()}`:`${dateDestination.getMinutes()}`} – {destinationArrivalHours < 10 ? `0${destinationArrivalHours}`:`${destinationArrivalHours}`}:{destinationArrivalMinutes < 10 ? `0${destinationArrivalMinutes}`:`${destinationArrivalMinutes}`}</div>\r\n                </div>\r\n                <div className='main__info-item'>\r\n                    <h3 className='main__info-header'>В пути</h3>\r\n                    <div className='main__info-value'>{Math.floor(data.segments[1].duration/60)}ч {data.segments[1].duration % 60}м</div>\r\n                </div>\r\n                <div className='main__info-item'>\r\n                    {data.segments[1].stops.length !== 0 ? (<>\r\n                    <h3 className='main__info-header'>{data.segments[1].stops.length === 1 ? '1 пересадка' : `${data.segments[1].stops.length} пересадки`}</h3>\r\n                    <div className='main__info-value'>{data.segments[1].stops.reduce((prevVal, el) => prevVal + ', ' + el)}</div> \r\n                    </>):(<h3 className='main__info-header'>0 пересадок</h3>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Ticket","import Ticket from \"./Ticket\";\r\nimport React from 'react';\r\n\r\nfunction Sidebar(){\r\n    const [isChecked, setChecked] = React.useState(false)\r\n    \r\n    function toggleChecked(evt){\r\n        setChecked(!isChecked);\r\n    }\r\n\r\n    return (\r\n        <div className='sidebar'>\r\n            <h1 className='sidebar__header'>Количество пересадок</h1>\r\n            <div className='sidebar__item'>\r\n                <input className='sidebar__checkbox' type='checkbox' id='all' onInput={toggleChecked}/>\r\n                <label className={`sidebar__label ${isChecked?'sidebar__label_checked':''}`} for='all' ></label>\r\n                Все\r\n            </div>\r\n            <div className='sidebar__item'>\r\n                <input className='sidebar__checkbox' type='checkbox' id='notransfers'/>\r\n                <label className='sidebar__label' for='notransfers'></label>\r\n                Без пересадок\r\n            </div>\r\n            <div className='sidebar__item'>\r\n                <input className='sidebar__checkbox' type='checkbox' id='1transfer'/>\r\n                <label className='sidebar__label' for='1transfer'></label>\r\n                1 пересадка\r\n            </div>\r\n            <div className='sidebar__item'>\r\n                <input className='sidebar__checkbox' type='checkbox' id='1transfer'/>\r\n                <label className='sidebar__label' for='2transfers'></label>\r\n                2 пересадки\r\n            </div>\r\n            <div className='sidebar__item'>\r\n                <input className='sidebar__checkbox' type='checkbox' id='1transfer'/>\r\n                <label className='sidebar__label' for='3transfers'></label>\r\n                3 пересадки\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar","class Api{\r\n    constructor(url){\r\n        this._url = url;\r\n    }\r\n\r\n\r\n    _checkResponse(res) {\r\n        //проверка ответа на запрос\r\n          if (res.ok) {\r\n            return res.json()\r\n          }\r\n          return Promise.reject(res.status)\r\n    }\r\n\r\n    getSearchId(){\r\n        return fetch(`${this._url}/search`)\r\n        .then(this._checkResponse)\r\n    }\r\n    \r\n    getInitialTickets(searhcID){\r\n        //получаем билеты\r\n        return fetch(`${this._url}/tickets?searchId=${searhcID}`)\r\n        .then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst api = new Api('https://front-test.beta.aviasales.ru');\r\n\r\nexport default api;","import Ticket from \"./Ticket\";\r\nimport React from 'react';\r\nimport api from \"../services/api\";\r\n\r\nfunction Main(){\r\n\r\n    const [ticketsArray, setTicketsArray] = React.useState([])\r\n    const [sortBySpeed, setSortBySpeed] = React.useState(true);\r\n    const [sortByPrice, setSortByPrice] = React.useState(false);\r\n    const [isLoading, setIsloading] = React.useState(true);\r\n    const [ticketsCount, setTicketsCount] = React.useState(5);\r\n\r\n    React.useEffect(() =>{\r\n        api.getSearchId()\r\n        .then(res =>{\r\n          api.getInitialTickets(res.searchId)\r\n          .then(res => {\r\n             setTicketsArray(res.tickets.sort(speedSort))\r\n\r\n             setIsloading(false);\r\n          })\r\n        })\r\n      }, [])\r\n\r\n\r\n    function speedSort(a, b){\r\n        let timeA = a.segments[0].duration + a.segments[1].duration\r\n        let timeB = b.segments[0].duration + b.segments[1].duration\r\n\r\n        return timeA - timeB;\r\n    }\r\n\r\n    function priceSort(a, b){\r\n        return a.price - b.price\r\n    }\r\n\r\n    function setSortSpeed(){\r\n        setSortBySpeed(true);\r\n        setSortByPrice(false);\r\n\r\n        setTicketsArray(ticketsArray.sort(speedSort));\r\n    }\r\n\r\n    function setSortPrice(){\r\n        setSortBySpeed(false);\r\n        setSortByPrice(true);\r\n\r\n        setTicketsArray(ticketsArray.sort(priceSort));\r\n    }\r\n\r\n    function showTickets(){\r\n        setTicketsCount(ticketsCount + 5)\r\n    }\r\n\r\n    return (\r\n        <div className='main'>\r\n          <div className='main__tabs'>\r\n              <button className={`main__tab ${sortBySpeed ? `main__tab_is-active`:``}`} onClick={setSortSpeed}>Самый быстрый</button>\r\n              <button className={`main__tab ${sortByPrice ? `main__tab_is-active`:``}`} onClick={setSortPrice}>Самый дешевый</button>\r\n          </div>\r\n          {!isLoading && ticketsArray.slice(0, ticketsCount).map((ticket) => <Ticket data={ticket}/>)}\r\n          <button className='main__button' onClick={showTickets}>Показать еще 5 билетов!</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n\r\n\r\n","import Header from './Header';\r\nimport React from 'react';\r\nimport Sidebar from './Sidebar';\r\nimport Main from './Main';\r\n\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className='content'>\r\n        <Sidebar />\r\n        <Main />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}